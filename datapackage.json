{
  "name": "datahub-kpis",
  "title": "DataHub KPIs",
  "resources": [
    {
      "path": "data/deploy-funnel-daily.csv",
      "pathType": "local",
      "name": "deploy-funnel-daily",
      "format": "csv",
      "mediatype": "text/csv",
      "encoding": "ISO-8859-1",
      "dialect": {
        "delimiter": ",",
        "quoteChar": "\""
      },
      "schema": {
        "fields": [
          {
            "name": "date",
            "type": "date",
            "format": "default"
          },
          {
            "name": "Total new users in the site",
            "type": "integer",
            "format": "default",
            "description": "User is considered new when it's the first time device or browser loads the website content."
          },
          {
            "name": "Clicks on download from anywhere",
            "type": "integer",
            "format": "default",
            "description": "Clicks on <a> tag that has href attribute equal to '/download' by new users."
          },
          {
            "name": "CLI downloads (from web)",
            "type": "integer",
            "format": "default",
            "description": "Downloads of the CLI regardless which OS by new users."
          },
          {
            "name": "CLI downloads (from NPM)",
            "type": "integer",
            "format": "default",
            "description": "Total downloads from NPM by all users."
          },
          {
            "name": "Total CLI downloads",
            "type": "integer",
            "format": "default",
            "description": "The sum of CLI downloads from the web and NPM."
          },
          {
            "name": "First run of the CLI",
            "type": "integer",
            "format": "default",
            "description": "First run of the CLI by new users."
          },
          {
            "name": "Total pushes from the CLI",
            "type": "integer",
            "format": "default",
            "description": "Total pushes by new users."
          },
          {
            "name": "Successful pushes from the CLI",
            "type": "integer",
            "format": "default",
            "description": "Successful pushes by new users."
          },
          {
            "name": "First pushes from the CLI",
            "type": "integer",
            "format": "default",
            "description": "First pushes by new users."
          },
          {
            "name": "Visit the showcase after push - method 1",
            "type": "integer",
            "format": "default",
            "description": "Visits of the showcase page using the printed URL after successful push."
          },
          {
            "name": "Visit the showcase after push - method 2",
            "type": "string",
            "format": "default"
          }
        ],
        "missingValues": [
          ""
        ]
      }
    },
    {
      "path": "data/deploy-funnel-weekly.csv",
      "pathType": "local",
      "name": "deploy-funnel-weekly",
      "format": "csv",
      "mediatype": "text/csv",
      "encoding": "ISO-8859-1",
      "dialect": {
        "delimiter": ",",
        "quoteChar": "\""
      },
      "schema": {
        "fields": [
          {
            "name": "date",
            "type": "date",
            "format": "default"
          },
          {
            "name": "Total new users in the site",
            "type": "integer",
            "format": "default",
            "description": "User is considered new when it's the first time device or browser loads the website content."
          },
          {
            "name": "Clicks on download from anywhere",
            "type": "integer",
            "format": "default",
            "description": "Clicks on <a> tag that has href attribute equal to '/download' by new users."
          },
          {
            "name": "CLI downloads (from web)",
            "type": "integer",
            "format": "default",
            "description": "Downloads of the CLI regardless which OS by new users."
          },
          {
            "name": "CLI downloads (from NPM)",
            "type": "integer",
            "format": "default",
            "description": "Total downloads from NPM by all users."
          },
          {
            "name": "Total CLI downloads",
            "type": "integer",
            "format": "default",
            "description": "The sum of CLI downloads from the web and NPM."
          },
          {
            "name": "First run of the CLI",
            "type": "integer",
            "format": "default",
            "description": "First run of the CLI by new users."
          },
          {
            "name": "Total pushes from the CLI",
            "type": "integer",
            "format": "default",
            "description": "Total pushes by new users."
          },
          {
            "name": "Successful pushes from the CLI",
            "type": "integer",
            "format": "default",
            "description": "Successful pushes by new users."
          },
          {
            "name": "First pushes from the CLI",
            "type": "integer",
            "format": "default",
            "description": "First pushes by new users."
          },
          {
            "name": "Visit the showcase after push - method 1",
            "type": "integer",
            "format": "default",
            "description": "Visits of the showcase page using the printed URL after successful push."
          },
          {
            "name": "Visit the showcase after push - method 2",
            "type": "string",
            "format": "default"
          }
        ],
        "missingValues": [
          ""
        ]
      }
    },
    {
      "path": "data/premium-data-funnel-daily.csv",
      "pathType": "local",
      "name": "premium-data-funnel-daily",
      "format": "csv",
      "mediatype": "text/csv",
      "encoding": "ISO-8859-1",
      "dialect": {
        "delimiter": ",",
        "quoteChar": "\""
      },
      "schema": {
        "fields": [
          {
            "name": "date",
            "type": "date",
            "format": "default"
          },
          {
            "name": "incoming user",
            "type": "integer",
            "format": "default",
            "description": "Unique page views of 'core' datasets."
          },
          {
            "name": "interacting user",
            "type": "integer",
            "format": "default",
            "description": "Unique scrolling events on 'core' datasets."
          },
          {
            "name": "heavily interacting user",
            "type": "integer",
            "format": "default",
            "description": "Unique clicking events on 'core' datasets."
          },
          {
            "name": "interested user",
            "type": "integer",
            "format": "default",
            "description": "Unique clicks on 'premium data' banner links."
          },
          {
            "name": "engaged user",
            "type": "integer",
            "format": "default",
            "description": "Number of users who contacted us."
          },
          {
            "name": "signed up user",
            "type": "integer",
            "format": "default",
            "description": "Number of users who signed up."
          }
        ],
        "missingValues": [
          ""
        ]
      }
    },
    {
      "path": "data/premium-data-funnel-weekly.csv",
      "pathType": "local",
      "name": "premium-data-funnel-weekly",
      "format": "csv",
      "mediatype": "text/csv",
      "encoding": "ISO-8859-1",
      "dialect": {
        "delimiter": ",",
        "quoteChar": "\""
      },
      "schema": {
        "fields": [
          {
            "name": "date",
            "type": "any",
            "format": "default"
          },
          {
            "name": "incoming user",
            "type": "any",
            "format": "default",
            "description": "Unique page views of 'core' datasets."
          },
          {
            "name": "interacting user",
            "type": "any",
            "format": "default",
            "description": "Unique scrolling events on 'core' datasets."
          },
          {
            "name": "heavily interacting user",
            "type": "any",
            "format": "default",
            "description": "Unique clicking events on 'core' datasets."
          },
          {
            "name": "interested user",
            "type": "any",
            "format": "default",
            "description": "Unique clicks on 'premium data' banner links."
          },
          {
            "name": "engaged user",
            "type": "any",
            "format": "default",
            "description": "Number of users who contacted us."
          },
          {
            "name": "signed up user",
            "type": "any",
            "format": "default",
            "description": "Number of users who signed up."
          }
        ],
        "missingValues": [
          ""
        ]
      }
    }
  ],
  "readme": "# DataHub KPIs\n\n[![Build Status](https://travis-ci.org/datahq/datahub-kpis.svg?branch=master)](https://travis-ci.org/datahq/datahub-kpis)\n\nKey performance indicators for the DataHub project.\n\n## What does it do?\n\nThe script:\n- fetches reports from the Google Analytics;\n- fetches stats from NPM for `data-cli` package;\n- processes data and prints out KPIs.\n\n## Travis-CI and the schedule\n\nThe script is run on weekly basis on Travis-CI. For more information see `.travis.yml` file or visit current build page - https://travis-ci.org/datahq/datahub-kpis.\n\n## Output\n\nBelow is the sample result:\n\n```\n1554 - 00 - Total new users in the site\n  30 - 01 - Clicks on \"download\" from anywhere\n   6 - 02 - CLI downloads (from web)\n   1 - 03 - First run of the CLI\n   2 - 07 - Visit the showcase after push - method 1\n 186 - 99 - NPM installs\n```\n",
  "description": "# DataHub KPIs\n\n[![Build Status](https://travis-ci.org/datahq/datahub-kpis.svg?branch=master)](https",
  "licenses": [
    {
      "name": "ODC-PDDL",
      "path": "http://opendatacommons.org/licenses/pddl/",
      "title": "Open Data Commons Public Domain Dedication and License"
    }
  ],
  "views": [
    {
      "name": "deploy-funnel",
      "title": "Deploy funnel KPIs as ratios of total new users",
      "resources": [
        {
          "name": "deploy-funnel-weekly",
          "transform": [
            {
              "type": "filter",
              "expression": "Date.parse(data['date']) > Date.parse('2018-03-26')"
            },
            {
              "type": "formula",
              "expressions": [
                "data['Clicks on download from anywhere'] / data['Total new users in the site']",
                "data['CLI downloads (from web)'] / data['Total new users in the site']",
                "data['First run of the CLI'] / data['Total new users in the site']",
                "data['First pushes from the CLI'] / data['Total new users in the site']",
                "data['Visit the showcase after push - method 1'] / data['Total new users in the site']"
              ],
              "asFields": [
                "Clicks on download page",
                "CLI downloads (web)",
                "First run",
                "First push",
                "Visit showcase after push"
              ]
            }
          ]
        }
      ],
      "specType": "simple",
      "spec": {
        "type": "line",
        "group": "date",
        "series": [
          "Clicks on download page",
          "CLI downloads (web)",
          "First run",
          "First push",
          "Visit showcase after push"
        ]
      }
    },
    {
      "name": "downloads-page-clicks",
      "title": "Clicks on 'Download' link (page) by new users",
      "resources": [
        {
          "name": "deploy-funnel-weekly",
          "transform": [
            {
              "type": "filter",
              "expression": "Date.parse(data['date']) > Date.parse('2018-04-08')"
            },
            {
              "type": "formula",
              "expressions": [
                "data['Clicks on download from anywhere'] / data['Total new users in the site'] * 100"
              ],
              "asFields": [
                "clicks"
              ]
            }
          ]
        }
      ],
      "specType": "simple",
      "spec": {
        "type": "line",
        "group": "date",
        "series": [
          "clicks"
        ],
        "ySuffix": " %"
      }
    },
    {
      "name": "cli-downloads",
      "title": "CLI downloads by whom clicked on 'Download' link (page)",
      "resources": [
        {
          "name": "deploy-funnel-weekly",
          "transform": [
            {
              "type": "filter",
              "expression": "Date.parse(data['date']) > Date.parse('2018-04-11')"
            },
            {
              "type": "formula",
              "expressions": [
                "data['CLI downloads (from web)'] / data['Clicks on download from anywhere'] * 100"
              ],
              "asFields": [
                "via web (download page)"
              ]
            }
          ]
        }
      ],
      "specType": "simple",
      "spec": {
        "type": "line",
        "group": "date",
        "series": [
          "via web (download page)"
        ],
        "ySuffix": " %"
      }
    },
    {
      "name": "first-run-of-cli",
      "title": "First run of the CLI by users who downloaded the tool",
      "resources": [
        {
          "name": "deploy-funnel-weekly",
          "transform": [
            {
              "type": "filter",
              "expression": "Date.parse(data['date']) > Date.parse('2018-04-15')"
            },
            {
              "type": "formula",
              "expressions": [
                "data['First run of the CLI'] / data['CLI downloads (from web)'] * 100"
              ],
              "asFields": [
                "first run"
              ]
            }
          ]
        }
      ],
      "specType": "simple",
      "spec": {
        "type": "line",
        "group": "date",
        "series": [
          "first run"
        ],
        "ySuffix": " %"
      }
    },
    {
      "name": "successful-pushes",
      "title": "Successful / total pushes",
      "resources": [
        {
          "name": "deploy-funnel-weekly",
          "transform": [
            {
              "type": "filter",
              "expression": "Date.parse(data['date']) > Date.parse('2018-04-21')"
            },
            {
              "type": "formula",
              "expressions": [
                "data['Successful pushes from the CLI'] / data['Total pushes from the CLI'] * 100"
              ],
              "asFields": [
                "Successful / total pushes"
              ]
            }
          ]
        }
      ],
      "specType": "simple",
      "spec": {
        "type": "line",
        "group": "date",
        "series": [
          "Successful / total pushes"
        ],
        "ySuffix": " %"
      }
    },
    {
      "name": "premium-data-offer-funnel-daily",
      "title": "Premium data offer funnel (daily)",
      "resources": ["premium-data-funnel-daily"],
      "specType": "simple",
      "spec": {
        "type": "line",
        "group": "date",
        "series": [
          "incoming user",
          "interacting user",
          "heavily interacting user",
          "interested user",
          "engaged user",
          "signed up user"
        ]
      }
    }
  ]
}
